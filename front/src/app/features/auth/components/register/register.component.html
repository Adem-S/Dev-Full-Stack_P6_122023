<div class="auth-form">
  <img src="/assets/logo_p6.png" alt="logo" class="auth-form__logo" />
  <mat-icon
    routerLink=""
    type="button"
    class="auth-form__back"
    fontIcon="arrow_back"
  ></mat-icon>
  <h2>Inscription</h2>

  <form class="auth-form__form" [formGroup]="form" (ngSubmit)="submit()">
    <div>
      <p>Nom d’utilisateur</p>
      <mat-form-field appearance="outline">
        <input matInput formControlName="username" />
      </mat-form-field>
    </div>

    <div>
      <p>Adresse e-mail</p>
      <mat-form-field appearance="outline">
        <input matInput formControlName="email" />
      </mat-form-field>
    </div>

    <div>
      <p>Mot de passe</p>
      <mat-form-field appearance="outline">
        <input
          matInput
          [type]="hide ? 'password' : 'text'"
          formControlName="password"
          minlength="8"
        />
        <button
          mat-icon-button
          matSuffix
          type="button"
          (click)="hide = !hide"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hide"
        >
          <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
        </button>
      </mat-form-field>
    </div>

    <button
      mat-raised-button
      type="submit"
      [disabled]="form.invalid"
      class="button auth-form__submit-btn"
    >
      S’inscrire
    </button>
    <p *ngIf="onError" class="error">{{ errorMessage }}</p>
  </form>
</div>
